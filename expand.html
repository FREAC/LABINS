<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
    <title>Expand widget - 4.8</title>

    <link rel="stylesheet" href="https://js.arcgis.com/4.8/esri/css/main.css">
    <script src="https://js.arcgis.com/4.8/"></script>

    <style>
        html,
        body,
        #viewDiv {
            padding: 0;
            margin: 0;
            height: 100%;
            width: 100%;
        }

        #expandDiv {
            background: #fff;
            position: absolute;
            padding: 10px;
        }
    </style>

    <script>
        require([
            "esri/Map",
            "esri/views/MapView",
            "esri/widgets/Expand",
            "esri/widgets/Legend",
            "esri/widgets/Home",
            "esri/layers/MapImageLayer",
            "esri/widgets/BasemapGallery",
            "dojo/domReady!"
        ], function (
            Map, MapView, Expand, Legend, Home, MapImageLayer, BasemapGallery
        ) {

            var map = new Map({
                basemap: "satellite"
            });

            var view = new MapView({
                container: "viewDiv",
                map: map,
                center: [-120.174, 47.255],
                zoom: 7
            });

            var soilsURL =
                "https://services.arcgisonline.com/arcgis/rest/services/Specialty/Soil_Survey_Map/MapServer";
            var soilsLayer = new MapImageLayer({
                url: soilsURL
            });
            map.add(soilsLayer);

            // Create a div to house all of the widget buttons
            var expandDiv = document.createElement('div').setAttribute("id", "expandDiv");

            // Create a BasemapGallery widget instance and set
            // its container to a div element

            var basemapGallery = new BasemapGallery({
                view: view,
                container: expandDiv
            });

            var legendWidget = new Legend({
                view: view,
                container: expandDiv
            });

            // Create an Expand instance and set the content
            // property to the DOM node of the basemap gallery widget
            // Use an Esri icon font to represent the content inside
            // of the Expand widget

            // var basemapsExpand = new Expand({
            //     view: view,
            //     content: basemapGallery,
            //     group: "top-right"
            // });

            // Add the expand instance to the ui

            // view.ui.add(basemapsExpand, "top-right");


            // Test to group buttons together
            var groupExpand = new Expand({
                view: view,
                content: expandDiv,
                group: "top-right"
            });

            view.ui.add(groupExpand, "top-right");
        });
    </script>
</head>

<body>
    <div id="viewDiv"></div>
    <div id="expandDiv"></div>
</body>

</html>